kind: postgresql
apiVersion: acid.zalan.do/v1
metadata:
  name: synapse-db
  namespace: postgres
spec:
  numberOfInstances: 1
  patroni:
    initdb:
      lc-collate: C
      lc-ctype: C
      encoding: UTF8
  postgresql:
    version: "15"
  preparedDatabases:
    mautrix_signal:
      defaultUsers: true
      secretNamespace: synapse
    mautrix_telegram:
      defaultUsers: true
      secretNamespace: synapse
    mautrix_whatsapp:
      defaultUsers: true
      secretNamespace: synapse
    signald:
      defaultUsers: true
      secretNamespace: synapse
    synapse:
      defaultUsers: true
      secretNamespace: synapse
  teamId: synapse
  volume:
    storageClass: syncthing
    size: 10Gi
